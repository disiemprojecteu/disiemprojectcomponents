// https://github.com/kmandov/d3-horizon-chart Version 0.0.6. Copyright 2016 Kiril Mandov.
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-selection"),require("d3-scale"),require("d3-axis"),require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-scale","d3-axis","d3-array"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)}(this,function(e,t,n,r,a){"use strict";function i(){function e(e){var n=t.select(this),m=d+c;o=m*e.length,y=n.append("canvas"),y.attr("width",o).attr("height",f),n.append("span").attr("class","title").text(g),n.append("span").attr("class","value");var b=y.node().getContext("2d"),q=p||a.extent(e),M=Math.max(-q[0],q[1]);v.domain([0,M]),h=r.axisTop(x).ticks(5),b.clearRect(0,0,o,f);var R=d+c,j=~~Math.max(0,-(u/R)),C=~~Math.min(e.length,j+o/R);if(!(j>e.length)){for(var S=!1,_=0;_<l;_++){b.fillStyle=i[l+_];var k=(_+1-l)*f;v.range([l*f+k,k]);for(var w,z=j;z<C;z++)w=e[z],w<=0?S=!0:void 0!==w&&b.fillRect(u+z*R,v(w),d,v(0)-v(w))}if(S)for("offset"===s&&(b.translate(0,f),b.scale(1,-1)),_=0;_<l;_++){b.fillStyle=i[l-_-1],k=(_+1-l)*f,v.range([l*f+k,k]);for(var E,L=j;L<C;L++)E=e[L],E>=0||b.fillRect(u+L*R,v(-E),d,v(0)-v(-E))}}}var i=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],l=i.length>>1,o=1e3,f=30,u=0,d=1,c=0,s="offset",h=null,g=null,p=null,x=null,v=n.scaleLinear().range([0,f]),y=null;return e.axis=function(t){return arguments.length?(h=t,e):h},e.canvas=function(t){return arguments.length?(y=t,e):y},e.colors=function(t){return arguments.length?(i=t,l=i.length>>1,e):i},e.height=function(t){return arguments.length?(f=t,e):f},e.step=function(t){return arguments.length?(d=t,e):d},e.spacing=function(t){return arguments.length?(c=t,e):c},e.title=function(t){return arguments.length?(g=t,e):g},e.mode=function(t){return arguments.length?(s=t,e):s},e.extent=function(t){return arguments.length?(p=t,e):p},e.offsetX=function(t){return arguments.length?(u=t,e):u},e.indexExtent=function(){var e=d+c,t=-u/e,n=t+o/e;return[t,n]},e}e.horizonChart=i,Object.defineProperty(e,"__esModule",{value:!0})});